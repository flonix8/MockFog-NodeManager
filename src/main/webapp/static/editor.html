<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MockFog</title>
    <link rel="stylesheet" href="./vendor/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" href="./vendor/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/wizard.css">
    <link href="./vendor/vis.js/vis-network.min.css" rel="stylesheet" type="text/css"/>
    <link href="./css/style_mockfog.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="./vendor/vis.js/vis_mockfog_improved.js"></script>
    <script type="text/javascript" src="./js/nodeEditor.js"></script>
    <script type="text/javascript" src="./js/nodeController.js"></script>
    <script src="./vendor/jquery/jquery.min.js"></script>

    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css?family=Source+Sans+Pro');
        @font-face {
            font-family: 'FontAwesome';
            src: url('/fonts/FontAwesome.ttf');
        }
        @font-face {
            font-family: 'Simple-Line-Icons';
            src: url('/fonts/Simple-Line-Icons.ttf');
        }
        @font-face {
            font-family: 'SourceSansPro-Bold';
            src: url('/fonts/SourceSansPro-Bold.ttf');
        }

        canvas {
            height: 100%;
            width: 100%;
            min-height: 400px;
        }

        /*  Reset icons start*/
        div.vis-network div.vis-manipulation {
            background: none;
            border-bottom: none;
            display: none;
            /*border-bottom-color: #787878;*/
        }

        .col-sm-4.form-control-label {

            margin-top: 3px;

        }
        /*  inline of labels from */
        label.col-sm-4.form-control-label {
            max-width: 100%;
        }

    </style>
</head>
<body class="sidebar-fixed header-fixed sidebar-hidden" onload="initialize()">
<div class="page-wrapper">
    <nav class="navbar page-header">
        <a class="navbar-brand" href="#">
            <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" id="svgLogo" version="1.1" viewBox="0 0 476.24999 119.154" height="450.34583" width="1800"><defs id="defs2713" /><metadata id="metadata2716"></metadata><path id="svgLogoPath" d="m 404.56005,95.307976 q 5.78563,1.9901 10.18281,2.764591 4.39708,0.819379 7.674,0.827849 2.37914,0.0061 4.31078,-0.527534 1.93152,-0.488794 3.10061,-1.248897 1.16909,-0.760102 1.98013,-1.925138 0.85591,-1.164919 1.30851,-2.600218 0.45261,-1.4353 0.63704,-3.32019 0.18443,-1.88489 0.32769,-5.206356 -1.75475,1.566603 -3.05898,2.505915 -1.25933,0.939428 -3.14701,1.832343 -1.88756,0.848025 -4.13331,1.336007 -2.20074,0.443208 -4.66965,0.436827 -5.70095,-0.01474 -10.27282,-2.675044 -4.57187,-2.660309 -6.80404,-7.424384 -2.23218,-4.764076 -2.21791,-10.285468 0.0168,-6.508961 2.45444,-11.754753 2.43759,-5.245792 6.93593,-8.870229 4.54323,-3.62432 9.93355,-5.001968 5.39032,-1.377647 12.2135,-1.36001 3.90538,0.01009 8.84194,0.516641 4.98156,0.461772 13.64115,2.055294 l -1.11563,14.81071 -0.98468,16.247518 q -0.0943,1.750454 -0.0972,2.872689 l -0.39683,14.58812 q -0.097,2.782908 -0.68703,5.295205 -0.4997,2.288084 -1.67192,4.260204 -1.17223,1.97211 -2.88186,3.44905 -1.88953,1.61114 -4.22622,2.54778 -2.38168,0.98142 -5.61534,1.60152 -3.503,0.6194 -7.31859,0.60954 -2.1547,-0.006 -5.29638,-0.23814 -3.14178,-0.18767 -6.46256,-0.60027 -3.27588,-0.41248 -5.69874,-0.86763 -2.37799,-0.45505 -6.05671,-1.31746 l -0.2989,-5.92621 q -0.0405,-1.70591 -0.42976,-7.407904 z m 30.93938,-38.749601 q -2.78175,-0.545867 -4.98134,-0.551552 -4.04004,-0.01044 -7.0068,1.553028 -2.92176,1.518698 -4.54578,4.611887 -1.6239,3.048301 -1.63249,6.370115 -0.006,2.424027 0.8413,4.491142 0.84756,2.067116 2.81956,3.284235 1.97211,1.172229 4.17169,1.177914 3.23203,0.0084 5.75188,-2.319396 2.51983,-2.32775 3.47295,-6.365357 0.95312,-4.037608 1.10903,-12.252016 z M 368.20087,42.648183 q 5.56628,0.01439 10.67926,1.733411 5.15786,1.71914 8.69578,4.960341 3.53802,3.196313 5.18778,7.509985 1.69478,4.268901 1.68201,9.206733 -0.0124,4.803163 -1.5499,9.153487 -1.4925,4.305552 -5.09351,8.111867 -3.60089,3.761425 -9.17204,5.632392 -5.52627,1.871082 -11.72101,1.855071 -5.70095,-0.01474 -10.94871,-1.689219 -5.24777,-1.674481 -8.78579,-4.870794 -3.49313,-3.196196 -5.27722,-7.644886 -1.7392,-4.448573 -1.72656,-9.341515 0.0127,-4.892942 1.72994,-9.332581 1.76217,-4.439525 5.49716,-7.976154 3.77987,-3.536515 9.30613,-5.407597 5.52639,-1.915973 11.49668,-1.900541 z m -0.34835,13.196665 q -2.87292,-0.0074 -5.12121,1.468123 -2.2483,1.475547 -3.42285,4.345451 -1.12955,2.82513 -1.13825,6.191834 -0.0128,4.937831 2.44931,7.592686 2.46219,2.609966 6.188,2.619596 2.82803,0.0073 5.07634,-1.468239 2.24841,-1.520437 3.37818,-4.435346 1.17478,-2.959682 1.18349,-6.326385 0.007,-2.783142 -0.88479,-5.029932 -0.89199,-2.246789 -2.95342,-3.598808 -2.01655,-1.351902 -4.7548,-1.35898 z m -82.14515,33.589603 q 0.96623,-9.110107 1.33962,-14.630573 0.5598,-8.168474 1.09047,-22.44202 0.53079,-14.318436 0.54355,-19.256267 l 0.0128,-4.937832 q 13.51147,0.124704 25.13782,0.154756 11.71613,0.03028 22.5347,-0.03153 -0.74492,10.3227 -0.75315,13.509846 l -3.90503,-0.144763 -3.14214,-0.05301 -3.14214,-0.05301 -8.84321,-0.02286 q -1.52623,-0.0039 -8.93321,0.06669 l -0.43105,10.458181 6.50862,0.151493 7.27207,0.0188 q 3.14226,0.0081 9.60668,-0.109838 -0.51571,8.482816 -0.52813,13.28598 -7.22661,-0.243128 -10.72798,-0.252178 -5.9254,-0.01532 -12.92872,0.191031 l -0.49067,16.159016 -0.0604,6.015061 -0.005,1.975132 -9.65098,-0.114725 q -1.12223,-0.0029 -10.50435,0.06263 z M 377.95528,19.462435 C 375.2211,-6.0094319 304.75541,-3.5865905 299.58549,18.947619 273.74588,2.4446353 239.53784,51.734343 271.5506,64.945007 c -42.38715,25.182947 22.33589,55.813623 56.40564,36.906363 6.36118,18.81863 36.58908,24.05684 57.89169,2.27764 38.59457,32.80168 98.61031,8.56682 75.58742,-20.997562 18.49031,12.940308 26.54703,-64.370933 -21.1865,-52.885829 C 444.4243,4.2308679 408.52041,-8.8865018 377.95528,19.462435 Z M 192.45454,89.387024 q 0.62845,-5.74586 0.89779,-9.337022 0.35912,-4.892959 0.71823,-12.254841 l 0.49379,-10.638818 q 0.31423,-7.227214 0.44889,-13.825975 0.17956,-7.900557 0.17956,-15.21755 6.28454,0.08978 9.4268,0.08978 3.63605,0 8.61879,-0.08978 -1.03246,11.761056 -1.88536,29.223083 -0.8529,17.462026 -0.8529,32.051123 -5.20718,-0.08978 -8.79835,-0.08978 -4.12983,0 -9.24724,0.08978 z m 19.79628,-25.766589 7.721,-11.132603 5.79075,-8.933016 q 6.19476,0.08978 9.38191,0.08978 4.39918,0 10.41437,-0.08978 l -8.93301,11.626387 q -3.14227,3.995168 -6.41921,8.61879 3.14227,5.790749 15.12777,25.587031 -5.25207,-0.08978 -9.47169,-0.08978 -4.30939,0 -9.87569,0.08978 l -2.78315,-5.611191 q -1.48136,-2.917819 -2.55871,-4.892959 -0.404,-0.808011 -6.14986,-10.997934 z m -27.83151,11.446829 q -0.22445,1.795582 -1.07735,6.598761 l -1.16712,7.182325 q -7.04766,1.705802 -13.78109,1.705802 -4.89296,0 -8.5739,-0.98757 -4.35428,-1.167128 -7.81078,-4.129837 -3.54627,-3.052487 -5.16229,-7.227214 -1.93025,-4.892958 -1.93025,-10.953045 0,-5.566301 1.88536,-10.728597 1.88536,-5.162296 5.5663,-8.484121 3.68094,-3.366714 8.16989,-4.488952 4.48896,-1.167128 9.92059,-1.167128 3.18716,0 6.4192,0.359116 3.23205,0.314227 7.99034,1.436465 l 0.0898,1.032459 q 0.13467,1.616023 0.17955,3.321825 0.0898,1.660913 0.31423,5.296965 l 0.26934,3.995168 q -6.4192,-2.244477 -11.35705,-2.244477 -3.54627,0 -6.23965,1.391575 -2.64848,1.346686 -3.95028,3.950279 -1.2569,2.558703 -1.2569,5.970307 0,3.456494 1.12224,5.790749 1.16712,2.334256 3.68094,3.501384 2.51381,1.167127 5.52141,1.167127 1.52624,0 3.59116,-0.314226 2.10981,-0.314227 3.63605,-0.673343 1.57114,-0.404006 3.95028,-1.301797 z m -71.1499,-32.679576 q 5.56631,0 10.68371,1.705802 5.1623,1.705802 8.70857,4.937848 3.54627,3.187156 5.20719,7.496551 1.7058,4.264505 1.7058,9.202354 0,4.803179 -1.52625,9.157463 -1.48135,4.309395 -5.07251,8.125005 -3.59116,3.77072 -9.15747,5.65608 -5.52141,1.885361 -11.71616,1.885361 -5.70097,0 -10.95305,-1.660913 -5.252073,-1.660912 -8.798346,-4.848069 -3.501383,-3.187156 -5.296964,-7.63122 -1.750692,-4.444063 -1.750692,-9.337022 0,-4.892958 1.705802,-9.337022 1.750692,-4.444063 5.476523,-7.990336 3.77072,-3.546272 9.292137,-5.431632 5.52141,-1.93025 11.49171,-1.93025 z m -0.31422,13.197521 q -2.87293,0 -5.11741,1.481355 -2.24447,1.481354 -3.4116,4.354284 -1.12224,2.82804 -1.12224,6.194755 0,4.937848 2.46892,7.58633 2.46893,2.603593 6.19476,2.603593 2.82804,0 5.07251,-1.481355 2.24448,-1.526244 3.36672,-4.444063 1.16713,-2.962709 1.16713,-6.329424 0,-2.78315 -0.89779,-5.027627 -0.89779,-2.244476 -2.96271,-3.591162 -2.02003,-1.346686 -4.75829,-1.346686 z M 1.3149336,89.387024 2.4371718,80.319339 5.2203226,48.85178 6.6118979,28.112818 q 8.2596731,0.08978 12.9730741,0.08978 3.905389,0 11.940614,-0.08978 0.583564,3.860499 0.98757,5.880528 0.404006,1.975139 1.975139,7.810778 1.616023,5.790749 2.558703,10.055254 0.98757,4.219616 2.917819,14.499318 1.97514,-7.047656 3.591163,-12.120173 1.616023,-5.072516 4.040057,-11.536609 2.424035,-6.464092 3.052488,-8.439231 0.673343,-2.020029 1.795581,-6.149865 6.73343,0.08978 13.197522,0.08978 4.399173,0 12.209951,-0.08978 -0.852901,15.127771 -1.122238,25.991037 -0.583564,21.277636 -0.583564,29.267972 0,1.660913 0.08978,6.015197 -5.925417,-0.08978 -8.304562,-0.08978 -3.456494,0 -8.484121,0.08978 0.359116,-4.040058 0.89779,-19.212718 0.538675,-15.21755 0.538675,-19.437166 0,-1.840471 -0.08978,-5.117406 L 54.91303,63.889772 46.473799,89.387024 q -5.835639,-0.08978 -8.035225,-0.08978 -2.783151,0 -8.529011,0.08978 L 24.388151,64.697783 21.156105,51.545152 Q 20.976547,50.78203 20.752099,49.659791 20.527652,48.537553 20.033867,45.709513 l -1.122238,12.434399 -1.481355,25.497252 -0.134668,5.74586 q -6.194755,-0.08978 -7.9005573,-0.08978 -2.3342555,0 -8.0801151,0.08978 z" /></svg>
                    </a>
    </nav>
    <div class="main-container">
        <div class="content">
            <div class="container-fluid">
                <div class="row ">
                    <div class="col-md-12">
                        <div class="card" id="cardSteps">
                            <!--div class="card-header bg-light" id="steps-headline">

                            </div-->
                            <div class="card-body">
                                <div class="row" id="row-steps">
                                    <div class="col-md-12">

                                        <div class="row bs-wizard" style="border-bottom:0;">
                                                <div class="col bs-wizard-step active" id="step-login"><!-- complete/active/disabled -->
                                                  <div class="text-center bs-wizard-stepnum">Log in to cloud</div>
                                                  <div class="progress"><div class="progress-bar"></div></div>
                                                  <a href="" class="bs-wizard-dot"></a>
                                                </div>

                                                <div class="col bs-wizard-step disabled" id="step-define">
                                                  <div class="text-center bs-wizard-stepnum">Define network topology</div>
                                                  <div class="progress"><div class="progress-bar"></div></div>
                                                  <a href="#" class="bs-wizard-dot"></a>
                                                </div>

                                                <div class="col bs-wizard-step disabled" id="step-bootstrap">
                                                  <div class="text-center bs-wizard-stepnum">Bootstrap environment</div>
                                                  <div class="progress"><div class="progress-bar"></div></div>
                                                  <a href="#" class="bs-wizard-dot"></a>
                                                </div>

                                                <div class="col bs-wizard-step disabled" id="step-assign">
                                                  <div class="text-center bs-wizard-stepnum">Assign properties</div>
                                                  <div class="progress"><div class="progress-bar"></div></div>
                                                  <a href="#" class="bs-wizard-dot"></a>
                                                </div>

                                                <div class="col bs-wizard-step disabled" id="step-destroy">
                                                  <div class="text-center bs-wizard-stepnum">Destroy environment</div>
                                                  <div class="progress"><div class="progress-bar"></div></div>
                                                  <a href="#" class="bs-wizard-dot"></a>
                                                </div>
                                        </div>

                                        <script type="text/javascript">
                                            $('#step-login').css('font-weight', 'Bold');
                                        </script>

                                    </div>
                                </div>
                            </div>
                            <!--div class="card-footer bg-light text-right">
                            </div-->
                        </div>
                        <div class="card" id="cardCredentials">
                            <div class="card-header bg-light" id="credentials-headline">
                                <span data-toggle="tooltip" data-placement="top" title="Switch between OpenStack and Amazon Web Services login.">
                                <input type="checkbox" id="iaas-provider" data-toggle="toggle"
                                       data-on="OpenStack" data-off="Amazon Web Services" data-onstyle="warning"
                                       data-offstyle="dark">
                                </span>

                                <script>
                                    function fillWithDefaultLogin() {
                                        var defaultCredentials = ['mockfog', 'tu-internal', 'http://cloud.cit.tu-berlin.de:5000/v2.0', 'MockFog', 'mockfog-user'];
                                        var inputFields = ['os_ssh_key_name', 'external_network', 'auth_url', 'project_name', 'username'];

                                        var i = 0;
                                        defaultCredentials.forEach(function (entry) {
                                            $('#' + inputFields[i]).val(entry);
                                            i++;
                                        });
                                    }

			      	    function fillWithDefaultLoginAWS() {
                                        var defaultCredentials = ['', '', 'eu-west-1', 'mockfog.pem', 'ec2-user'];
                                        var inputFields = ['ec2_access_key', 'ec2_secret_access_key', 'ec2_region', 'ssh_key_name', 'ssh_user'];

                                        var i = 0;
                                        defaultCredentials.forEach(function (entry) {
                                            $('#' + inputFields[i]).val(entry);
                                            i++;
                                        });
                                    }
                                </script>

                                <button class="btn btn-dark" id="default-login" onclick="fillWithDefaultLogin()"
                                        data-toggle="tooltip" data-placement="right" title="Fill with default data for OpenStack@CIT@TU Berlin. Don't forget to enter password.">
                                    <i class="fas fa-address-book"></i>
                                </button>

			  	<button class="btn btn-dark" id="default-loginAWS" onclick="fillWithDefaultLoginAWS()"
                                        data-toggle="tooltip" data-placement="right" title="Fill with default data for AWS.">
                                    <i class="fas fa-address-book"></i>
                                </button>


                                <script>
                                    var iaasProviderIsOpenStack = false;

                                    $('#iaas-provider').on('change', function () {
                                        iaasProviderIsOpenStack = !iaasProviderIsOpenStack;
                                        console.log("Provider is OpenStack" + iaasProviderIsOpenStack);

                                        if (iaasProviderIsOpenStack) {
                                            $('#row-openstack').show();
                                            $('#row-aws').hide();

                                            $('#save-credentials-button-aws').hide();
                                            $('#save-credentials-button').show();

                                            $('#default-login').show();
					    $('#default-loginAWS').hide();
                                        } else {
                                            $('#row-openstack').hide();
                                            $('#row-aws').show();

                                            $('#save-credentials-button-aws').show();
                                            $('#save-credentials-button').hide();

                                            $('#default-login').hide();
					    $('#default-loginAWS').show();
                                        }

                                        $('#login-error-message').hide();
                                        $('#login-error-message-button').hide();
                                    });

                                </script>
                            </div>
                            <div class="card-body">
                                <div class="row" id="row-openstack">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="os_ssh_key_name" class="form-control-label"><b>SSH key name:</b></label>
                                            <input id="os_ssh_key_name" class="form-control" placeholder="mockfog">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="external_network" class="form-control-label"><b>External
                                                network:</b></label>
                                            <input id="external_network" class="form-control" placeholder="tu-internal">
                                        </div>
                                    </div>
                                    <!--div class="col-md-6">
                                        <div class="form-group">
                                            <label for="mgmt_network_name" class="form-control-label"><b>Management
                                                network label:</b></label>
                                            <input id="mgmt_network_name" class="form-control" placeholder="mgmt">
                                        </div>
                                    </div-->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="auth_url" class="form-control-label"><b>Authentication URL:</b></label>
                                            <input id="auth_url" class="form-control"
                                                   placeholder="http://cloud.cit.tu-berlin.de:5000/v2.0">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="project_name" class="form-control-label"><b>Project
                                                name:</b></label>
                                            <input id="project_name" class="form-control" placeholder="MockFog">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="username" class="form-control-label"><b>Username:</b></label>
                                            <input id="username" class="form-control" placeholder="mockfog-user">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="password" class="form-control-label"><b>Password:</b></label>
                                            <input id="password" type="password" class="form-control"
                                                   placeholder="*********">
                                        </div>
                                    </div>
                                </div>
                                <div class="row" id="row-aws">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="ec2_access_key" class="form-control-label"><b>EC2 access
                                                key:</b></label>
                                            <input id="ec2_access_key" class="form-control"
                                                   placeholder="ec2_access_key">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="ec2_secret_access_key" class="form-control-label"><b>EC2 secret
                                                access key:</b></label>
                                            <input id="ec2_secret_access_key" class="form-control"
                                                   placeholder="ec2_secret_access_key">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="ec2_region" class="form-control-label"><b>EC2
                                                region:</b></label>
                                            <input id="ec2_region" class="form-control" placeholder="ec2_region">
                                        </div>
                                    </div>
                                    <!--div class="col-md-6">
                                        <div class="form-group">
                                            <label for="mgmt_network_name_aws" class="form-control-label"><b>Management
                                                network name:</b></label>
                                            <input id="mgmt_network_name_aws" class="form-control"
                                                   placeholder="mgmt_network_name">
                                        </div>
                                    </div-->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="ssh_key_name" class="form-control-label"><b>SSH key
                                                name:</b></label>
                                            <input id="ssh_key_name" class="form-control" placeholder="ssh_key_name">
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="ssh_user" class="form-control-label"><b>SSH user:</b></label>
                                            <input id="ssh_user" class="form-control" placeholder="ssh_user">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-light text-right">

                                <script>
                                    function skipLogin() {
                                        $('#cardCredentials').hide();
                                        document.getElementById("cardNetwork").style = "visibility: visible";
                                        moveStepIndicatorOneStepForward('login', 'define');
                                        fillFlavorOptionsAWS();
                                    };
                                </script>
                                <div class="alert-dark text-center p-2" id="login-error-message"><!-- to be filled async --></div>
                                <button class="btn btn-danger" id="login-error-message-button" onclick="skipLogin()"><i class="fas fa-sign-in-alt"></i> Continue without login</button>
                                <script>
                                    $('#login-error-message').hide();
                                </script>

                                <button id="save-credentials-button-aws" type="button" class="btn btn-success"
                                        onclick="saveAWSserverCredentials(), fillFlavorOptionsAWS()"><i class="fas fa-sign-in-alt"></i> Login (AWS)
                                </button>
                                <button id="save-credentials-button" type="button" class="btn btn-success"
                                        onclick="saveServerCredentials()"><i class="fas fa-sign-in-alt"></i> Login (OpenStack)
                                </button>
                            </div>

                            <script>
                                $('#row-openstack').hide();
                                $('#save-credentials-button').hide();
								$('#default-login').hide();
                            </script>
                        </div>
                        <div class="card" id="cardNetwork" style="visibility: hidden">
                            <div class="card-header bg-light">Network Topology</div>
                            <div class="card-body p-0">
                                <div class="p-0" style="margin-left: 16px; margin-top: 8px;">
                                    <script>
                                        function saveStateOfTopology() {
                                            $.ajax({
                                                type: 'POST',
                                                url: BASE_URL + "doc/" + DOCID + "/savestate",
                                                contentType: 'application/json',
                                                success: function(data) {
                                                    console.log(data);
                                                    var win = window.open(BASE_URL + '/index.html', '_blank');
                                                    win.focus();                                                },
                                                error: function (error) {
                                                    console.log(error);
                                                }
                                            });
                                        }
                                    </script>
                                    <button class="btn btn-outline-primary" onclick="saveStateOfTopology()"
                                            data-toggle="tooltip" data-placement="top"
                                            title="Open current topology in a new tab.">
                                    <i class="fas fa-download"></i> Save topology
                                    </button>
                                    <button id="play-button" class="btn btn-success" onclick="onClickPlay()"
                                            data-toggle="tooltip" data-placement="top"
                                            title="Runs Ansible IaC service in order to start/bootstrap all virtual machines and networks.">
                                            <i class="fas fa-play"></i> Bootstrap setup
                                    </button>

                                    <button id="destroy-button" class="btn btn-danger" onclick="onClickDestroy()"
                                            data-toggle="tooltip" data-placement="top"
                                            title="Warning: This deletes all created virtual machines and networks from the cloud!">
                                        <i class="fas fa-stop"></i> Destroy setup
                                    </button>
                                    <button id="btnShowLog" class="btn btn-outline-primary" onclick="onClickShowLog()"
                                            data-toggle="tooltip" data-placement="top"
                                            title="This opens the ansible log in a new tab.">
                                        Show Logfiles
                                    </button>
                                    <script>
                                        $('#destroy-button').show(); //.hide()
                                    </script>

                                </div>
                                <hr>
                                <div class="p-0" style="margin-left: 16px; margin-top: 8px;">
                                    <button id="button-add-machine" class="btn btn-outline-dark" data-toggle="modal"
                                            data-target="#modelAddInstance">
                                        <i class="fa fa-plus"></i> Add machine
                                    </button>
                                    <button id="button-add-network" class="btn btn-outline-dark" data-toggle="modal"
                                            data-target="#modelAddNetwork">
                                        <i class="fa fa-plus"></i> Add network
                                    </button>
                                    <button id="button-add-connection" class="btn btn-outline-dark" onclick="onClickAddEdge()">
                                        <i class="fas fa-plus"></i> Add connection
                                    </button>
                                    <button id="button-delete-entity" class="btn btn-outline-dark" onclick="onClickSelectDelete()">
                                        <i class="fas fa-minus"></i> Delete
                                    </button>
                                </div>

                                <div class="p-0" style="margin-left: 16px; margin-top: 8px;">
                                    <div class="p-0" style="margin-left: 16px; margin-top: 8px;"></div>
                                    <div class="p-0">
                                        <div id="networkTopologie" style="min-height: 400px">
                                            <div id="mynetwork"></div>
                                            <div id="popupEdge" class="popover fade bs-popover-right hide"
                                                 role="tooltip" id="popover300087" x-placement="right"
                                                 style="display:none; position: absolute; top: 200px; left: 200px;/*will-change: transform; transform: translate3d(513px, 1736px, 0px);*/">
                                                <div class="arrow" style="top: 200px;"></div>
                                                <div class="popover-header">
                                                    <ul class="nav nav-tabs">
                                                        <li class="nav-item">
                                                            <a class="nav-link active">Edge</a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link disabled" id="editEdge" style="position: absolute;
                                                        right: 0px;" onclick="onClickEditEdge()"><i
                                                                    class="far fa-edit"></i>Edit</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="popover-body">
                                                    <form id="edgeForm" name="edgeForm" method="post" action="">
                                                        <div id="pageEdge">
                                                            <div class="form-group row" style="display: none">
                                                                <label for="edgeFrom"
                                                                       class="col-sm-4 form-control-label">From:</label>
                                                                <div class="col-sm-8">
                                                                    <input id="edgeFrom"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="display: none">
                                                                <label for="edgeTo" class="col-sm-4 form-control-label">To:</label>
                                                                <div class="col-sm-8">
                                                                    <input id="edgeTo"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="display: none">
                                                                <label for="edgeId" class="col-sm-4 form-control-label">ID:</label>
                                                                <div class="col-sm-8">
                                                                    <input id="edgeId"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row">
                                                                <label for="edgeDelay"
                                                                       class="col-sm-4 form-control-label">Delay:</label>
                                                                <div class="input-group input-group-sm mb-3" style="max-width: 60%;">
                                                                    <input id="edgeDelay"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">ms</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="margin-top: -15px;">
                                                                <label for="edgeInRate"
                                                                       class="col-sm-4 form-control-label">In
                                                                    Rate:</label>
                                                                <div class="input-group input-group-sm mb-3" style="max-width: 60%;">
                                                                    <input id="edgeInRate"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                    <div class="input-group-append">
                                                                    <span class="input-group-text">kbps</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="margin-top: -15px;">
                                                                <label for="edgeOutRate"
                                                                       class="col-sm-4 form-control-label">Out
                                                                    Rate:</label>
                                                                <div class="input-group input-group-sm mb-3" style="max-width: 60%;">
                                                                    <input id="edgeOutRate"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                    <div class="input-group-append">
                                                                    <span class="input-group-text">kbps</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="margin-top: -15px;">
                                                                <label for="edgeDispersion"
                                                                       class="col-sm-4 form-control-label">Dispersion:</label>
                                                                <div class="input-group input-group-sm mb-3" style="max-width: 60%;">
                                                                    <input id="edgeDispersion"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                    <div class="input-group-append">
                                                                    <span class="input-group-text">%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="margin-top: -15px;">
                                                                <label for="edgeLoss"
                                                                       class="col-sm-4 form-control-label">Package
                                                                    lost:</label>
                                                                <div class="input-group input-group-sm mb-3" style="max-width: 60%;">
                                                                    <input id="edgeLoss"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                    <div class="input-group-append">
                                                                    <span class="input-group-text">%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="margin-top: -15px;">
                                                                <label for="edgeCorrupt"
                                                                       class="col-sm-4 form-control-label">Corrupt:</label>
                                                                <div class="input-group input-group-sm mb-3" style="max-width: 60%;">
                                                                    <input id="edgeCorrupt"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                    <div class="input-group-append">
                                                                    <span class="input-group-text">%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="margin-top: -15px;">
                                                                <label for="edgeReorder"
                                                                       class="col-sm-4 form-control-label">Reorder:</label>
                                                                <div class="input-group input-group-sm mb-3" style="max-width: 60%;">
                                                                    <input id="edgeReorder"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                    <div class="input-group-append">
                                                                    <span class="input-group-text">%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="margin-top: -15px;">
                                                                <label for="edgeDuplicate"
                                                                       class="col-sm-4 form-control-label">Duplicate:</label>
                                                                <div class="input-group input-group-sm mb-3" style="max-width: 60%;">
                                                                    <input id="edgeDuplicate"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                    <div class="input-group-append">
                                                                    <span class="input-group-text">%</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </form>
                                                </div>
                                                <div class=popover-footer">
                                                    <ul class="nav nav-tabs" style="border-bottom: 1px solid #dee2e6;margin-bottom: 35px;">
                                                        <li class="nav-item">
                                                            <a class="nav-link disabled" id="deleteEdge" style="position: absolute;
                                                            right: 0px;" onclick="onClickSelectDelete()"><i class="fas fa-trash"></i> Delete</a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link disabled" id="deactivateEdge" style="position: absolute;" onclick="onClickDeactivateEdge()">
                                                                <i class="fas fa-ban"></i>Toggle Unreachable</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div id="popupNode" class="popover fade bs-popover-right hide"
                                                 role="tooltip" id="popover300088" x-placement="right"
                                                 style="display:none; position: absolute; top: 200px; left: 200px;/*will-change: transform; transform: translate3d(513px, 1736px, 0px);*/">
                                                <div class="arrow" style="top: 100px;"></div>
                                                <div class="popover-header">
                                                    <ul class="nav nav-tabs" style="border-bottom: 1px solid #dee2e6;">
                                                        <li class="nav-item">
                                                            <a class="nav-link active">Node</a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link disabled" id="editNode" style="position: absolute;
                                                        right: 0px;" onclick="onClickEditNode()"><i
                                                                    class="far fa-edit"></i>Edit</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="popover-body" style="border-bottom: 1px solid #dee2e6;">
                                                    <form id="nodeForm" name="nodeForm" method="post" action="">
                                                        <input type="hidden" id="nodeID"/>
                                                        <div id="pageNode">
                                                            <div class="form-group row">
                                                                <label for="nodeName"
                                                                       class="col-sm-4 form-control-label">Name:</label>
                                                                <div class="col-sm-8">
                                                                    <input id="nodeName"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                </div>
                                                            </div>
                                                            <div id="networks">
 								                                            </div>
                                                            <div class="form-group row" style="margin-top: -5px;">
                                                                <label for="nodeFlavor"
                                                                       class="col-sm-4 form-control-label">Flavor:</label>
                                                                <div class="col-sm-8">
                                                                    <input id="nodeFlavor"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                </div>
                                                            </div>
                                                            <div class="form-group row" style="margin-top: -5px;">
                                                                <label for="nodeImage"
                                                                       class="col-sm-4 form-control-label">Image:</label>
                                                                <div class="col-sm-8">
                                                                    <input id="nodeImage"
                                                                           class="form-control form-control-sm"
                                                                           readonly/>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </form>
                                                </div>
                                                <div class=popover-footer">
                                                    <ul class="nav nav-tabs" style="margin-bottom: 35px;">
                                                        <li class="nav-item">
                                                            <a class="nav-link disabled" id="deactivateNode" style="position: absolute;" onclick="onClickDeactivateNode()">
                                                                <i class="fas fa-ban"></i>Toggle Unreachable</a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link disabled" id="deleteNode" style="position: absolute;right: 0px;" onclick="onClickSelectDelete()">
                                                                <i class="fas fa-trash"></i>Delete</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="modelAddInstance" class="modal fade" role="dialog">
                                    <div class="modal-dialog">

                                        <!-- Modal content-->
                                        <div class="modal-content">
                                            <div class="modal-header bg-secondary">
                                                <h5 class="modal-title text-white">Add machine</h5>
                                                <button type="button" class="close" data-dismiss="modal"
                                                        aria-label="Close">
                                                    <span aria-hidden="true">×</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-12">
                                                        <p>Configure your machine here.</p>
                                                        <div class="form-group">
                                                            <label for="instanceType">Type:</label>
                                                            <select id="instanceType" class="form-control">
                                                            </select>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="instanceImage">Image:</label>
                                                            <input id="instanceImage" class="form-control" value="ami-0c5015410d6d7cbbb"/>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Amount:</label>
                                                            <input type="number" value="1" class="form-control"
                                                                   id="inputAmount" min="0" step="1"
                                                                   data-bind="value:replyNumber"/>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">
                                                    Close
                                                </button>
                                                <button type="button" class="btn btn-success"
                                                        onclick="onClickAddInstance()"><i class="fas fa-plus"></i> Create
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div id="modelAddNetwork" class="modal fade" role="dialog">
                                    <div class="modal-dialog">

                                        <!-- Modal content-->
                                        <div class="modal-content">
                                            <div class="modal-header bg-secondary">
                                                <h5 class="modal-title text-white">Add network</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">×</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-12">
                                                        <p>Configure your network here. For example:</p>
                                                        <p>
                                                        <small>A <strong>Virtual Pseudo-Network</strong> (IP/Mask default to 0.0.0.0/0) is only available for easily structuring complex network topologies.</small>
                                                        </p>
                                                        <div class="form-group">
                                                            <label for="netIP">IP/Mask:</label>
                                                            <select id="netIP" class="form-control">
                                                                <option value="0.0.0.0/0">Virtual Pseudo-Network</option>
                                                            </select>
                                                            <script>
                                                                for(var i = 2; i <= 100; i++) {
                                                                    $('#netIP').append($('<option>', {
                                                                        value: '10.0.' + i + '.0/24',
                                                                        text: '10.0.' + i + '.0/24'
                                                                    }));
                                                                }
                                                            </script>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">
                                                    Close
                                                </button>
                                                <button type="button" class="btn btn-success"
                                                        onclick="onClickAddNetwork()">Create
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div id="modelAlert" class="modal fade" role="dialog">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header bg-secondary">
                                                <h5 class="modal-title text-white">Warning</h5>
                                                <button type="button" class="close" data-dismiss="modal"
                                                        aria-label="Close">
                                                    <span aria-hidden="true">×</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-xs-12 col-sm-12">
                                                        <h6 id="alertContent"></h6>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">
                                                    Close
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="card" id="iframe-ping-card">
                    <!--div class="card-header bg-light" id="steps-headline">
                    </div-->
                    <div class="card-body">
                        <div class="row" id="iframe-ping-test">
                            <div class="col-md-12">
                                <script>
                                    var url = "http://" + window.location.hostname + ":5001";
									//var url = "http://localhost:5001";
                                    function doPing(mode) {

										document.getElementsByName('pingFrame')[0].src = url + mode;
                                    }
                                </script>

                                <button id="show-iframe-ping-all" class="btn btn-primary" onclick = "doPing('/pingAll')"
                                        data-toggle="tooltip" data-placement="top"
                                        title="All bootstrapped nodes ping each other.">
                                    <i class="fas fa-rocket"></i> Ping all
                                </button>

                                <div class="col-md-12" id="iframe-space">
									<iframe id = "pingFrameID" name = "pingFrame" style="height: 400px; width: 100%; border-width:0px" ></iframe>
								</div>

                            </div>
                        </div>
                    </div>
                    <!--div class="card-footer bg-light text-right">
                    </div-->
                </div>
<!-- <script> $('#iframe-ping-card').hide()</script> -->


                <div class="card-body" id="docIdDebugging"></div> <!-- TODO Delete this if not needed anymore... -->


            </div>
        </div>
    </div>
</div>
<script src="./vendor/popper.js/popper.min.js"></script>
<script>
    // Activate all tooltips
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })
</script>
<script src="./vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="./js/carbon.js"></script>
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
</body>
</html>
